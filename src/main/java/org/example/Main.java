package org.example;

import java.io.IOException;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;


public class Main {

    public static void main(String[] args) {
        try {
            // Here we create a document object and use JSoup to fetch the site
            Document doc = Jsoup.connect("https://www.ebay.com/sch/i.html?_from=R40&_trksid=p2380057.m570.l1312&_nkw=jacuzzi&_sacat=0").get();
            // With the document fetched, we use JSoup's title() method to fetch the title
            System.out.printf("%s\n", doc.title());
            // Get the list of Elements
            Elements repositories = doc.getElementsByClass("s-item");  //Elements repositories = doc.getElementsByClass("s-item");
            int index = 0;


            for (Element repository : repositories) {
                // extract the title
                String repositoryTitle = repository.getElementsByClass("s-item__title").text();
                String replaceAll = repositoryTitle.replaceAll("Shop on eBayOpens in a new window or tab Brand New $20.00 or Best Offer Sponsored Jacuzzi J300 Hot Tub Pillow x4 Pillows Headrest 2472-824 - IN STOCKAbre em janela ou guia separada J315, J325, J335, J345, J355, J365, J375, J385 Novo em folha EUR 218,26Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 33,17 de frete, aproximadamente de Reino Unido 23 vendidos Patrocinado Set of 4 Sets-Jacuzzi® Brand Spa Pillow Oval + Insert J-300 2007-2013 (2472-826)Abre em janela ou guia separada Novo em folha 5.0 de 5 estrelas.106 avaliações do produto - Set of 4 Sets-Jacuzzi® Brand Spa Pillow Oval + Insert J-300 2007-2013 (2472-826) EUR 131,35 Comprar já! +EUR 39,80 de frete de Estados Unidos 590 vendidos Patrocinado SUNDANCE ® JACUZZI ® CLEARRAY ® 6472-857k. UV-C Lampe ozone Whirlpool 6472-841 Abre em janela ou guia separada XL-Lampe, passt auch Armstark® mit 6472-841,6472-722 Novo em folha EUR 82,00 Comprar já! Entrega internacional grátis de Áustria 110 vendidos Patrocinado Jacuzzi Used Hot Tub And CoverAbre em janela ou guia separada Seminovo EUR 577,40 1 lance · Tempo restante4d 5h restantes (Mon, 03:18 PM) de Reino Unido Patrocinado White Jacuzzi Hot Tub HeadrestAbre em janela ou guia separada Novo em folha EUR 16,11Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 11,37 de frete, aproximadamente de Reino Unido 17 vendidos Patrocinado Jacuzzi Whirlpool Bath - On off Air Actuator Button (White) - 8246940Abre em janela ou guia separada Novo em folha EUR 17,42Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 14,40 de frete, aproximadamente de Estados Unidos Quase esgotado 49 vendidos Patrocinado Set of 1-Jacuzzi® Brand Spa Pillow Oval + Insert J-300 2007-2013 (2472-826)Abre em janela ou guia separada Novo em folha EUR 34,33 Comprar já! +EUR 39,80 de frete de Estados Unidos 530 vendidos Patrocinado 6570-231 Jacuzzi® and Sundance® Pillow Screw 2 PackAbre em janela ou guia separada Novo em folha EUR 6,72 Comprar já! +EUR 39,80 de frete de Estados Unidos 993 vendidos Patrocinado Hot Tub Swim Spa Cover Guard&cap ,fits Jacuzzi,hotspring Waterproof UV ResistantAbre em janela ou guia separada Novo em folha EUR 27,81Vendedor nível Top Vendedor nível Top Era: Preço anteriorEUR 29,27  5% de desconto ou Oferta direta +EUR 2,54 de frete de China 19 observadores Patrocinado life spa pillow ideal for Spa, hot tub or bathAbre em janela ou guia separada Novo em folha EUR 14,20Vendedor nível Top Vendedor nível Top Comprar já! +EUR 20,02 de frete de Austrália 7 observadores Patrocinado Piscina hinchable para 4 personas bañera hidromasaje SPA In-exterior 150x150 cmAbre em janela ou guia separada Novo em folha EUR 494,95 Comprar já! +EUR 20,00 de frete de Alemanha Patrocinado Balboa Wifi Receiver Module Control Hot tub Spa Jacuzzi Luso Sundance TABLET BWAAbre em janela ou guia separada Novo em folha EUR 379,93Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 36,85 de frete, aproximadamente de Reino Unido 19 observadores Patrocinado Escalera para jacuzzi y spa Gre SPAL2Abre em janela ou guia separada Novo em folha EUR 67,90Vendedor nível Top Vendedor nível Top Comprar já! +EUR 20,00 de frete de Espanha 4 observadores Patrocinado HOT TUB SPA MOVE/RELOCATION/SERVICE/REPAIRS - DELIVERY TO UK FRANCE SPAINAbre em janela ou guia separada 07939250190 Novo (outro) EUR 1,14Serviços de alfândega e rastreamento internacional fornecidos ou Oferta direta + EUR 11,64 de frete, aproximadamente de Reino Unido Patrocinado SpaBalancer Whirlpool Reiniger Spa Hot Tub Desinfektion Clean Refresh 500 mlAbre em janela ou guia separada Novo em folha EUR 14,95Vendedor nível Top Vendedor nível Top ou Oferta direta +EUR 16,95 de frete de Alemanha 86 vendidos Patrocinado Hot Tub Compatible With Jacuzzi Spa Heater Low Flo 6500-063 Abre em janela ou guia separada Novo em folha EUR 247,78 $10 off $50+ with coupon Comprar já! +EUR 75,98 de frete de Estados Unidos Patrocinado Filter, Hot Tub, Jacuzzi Spa, screw on filter, fits most makes, Aqua Spa Abre em janela ou guia separada Novo em folha EUR 11,52 Comprar já! +EUR 10,39 de frete de Reino Unido 133 vendidos Patrocinado Sloan LiquaLED Light for Spa Hot Tub Jacuzzi fits Most Spas TubsAbre em janela ou guia separada Novo em folha 5.0 de 5 estrelas.2 avaliações do produto - Sloan LiquaLED Light for Spa Hot Tub Jacuzzi fits Most Spas Tubs EUR 57,68Serviços de alfândega e rastreamento internacional fornecidos ou Oferta direta + EUR 12,48 de frete, aproximadamente de Reino Unido Patrocinado Spa Pump Water 2.5 HP 2 Speed LX Whirlpool Pump WP250-II Jacuzzi Hot Tub Abre em janela ou guia separada Novo em folha EUR 351,97 ou Oferta direta +EUR 116,25 de frete de Austrália Último 15 observadores Patrocinado Hot Tub/Spa Jacuzzi/Sundance Spas PCB BoardAbre em janela ou guia separada Novo (outro) EUR 404,18Serviços de alfândega e rastreamento internacional fornecidos ou Oferta direta + EUR 37,77 de frete, aproximadamente de Reino Unido Patrocinado Jacuzzi J-300 Series Hot Tubs 2007–2013 Pillow / HeadrestAbre em janela ou guia separada Novo em folha EUR 40,41Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 21,77 de frete, aproximadamente de Reino Unido Patrocinado Limbio Weekly Whirlpool Wasserpflege chlorfreie Wasserpflegemittel Hottube 500mlAbre em janela ou guia separada Novo em folha EUR 69,95Vendedor nível Top Vendedor nível Top ou Oferta direta +EUR 16,95 de frete de Alemanha 110 vendidos Patrocinado Jacuzzi Whirlpool Bath - On off Air Actuator Bezel Sleeve (White) - 8247940Abre em janela ou guia separada Novo em folha EUR 19,89 Comprar já! +EUR 55,78 de frete de Estados Unidos 75 vendidos Patrocinado Genuine Jacuzzi Hot Tub J230Abre em janela ou guia separada Seminovo EUR 2 303,82 ou Oferta direta de Reino Unido Patrocinado Spa control /Sundance /Jacuzzi spas circuit board 6600-722Abre em janela ou guia separada Novo em folha EUR 348,31Serviços de alfândega e rastreamento internacional fornecidos ou Oferta direta + EUR 29,26 de frete, aproximadamente de Estados Unidos Último 6 observadores Patrocinado Hot Tub Spa Pool Jacuzzi Cartridge Filter PJW23, M2029415, 11023, C-5601, 6199Abre em janela ou guia separada Novo em folha EUR 62,22 Save up to 15% when you buy more Comprar já!Serviços de alfândega e rastreamento internacional fornecidos + EUR 20,03 de frete, aproximadamente de Estados Unidos Patrocinado JACUZZI® J300 Hot Tub Diverter knob 2007 - 2013Abre em janela ou guia separada Novo em folha EUR 11,54Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 22,75 de frete, aproximadamente de Reino Unido Patrocinado SpaBalancer Whirlpool Geschenkset Filterreiniger Schockmittel Pool DesinfektionAbre em janela ou guia separada Novo em folha EUR 161,20Vendedor nível Top Vendedor nível Top ou Oferta direta +EUR 16,95 de frete de Alemanha Patrocinado Hot Tub 2 Speed, 2.0HP Pump, for any hot tub, two Speed High Power, Pool , SwimAbre em janela ou guia separada Novo em folha EUR 421,50Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 37,80 de frete, aproximadamente de Reino Unido Patrocinado Balboa M7 Heater with Studs - 3Kw Replacement Hot Tub Heater Tube with Sensors Abre em janela ou guia separada Novo em folha EUR 345,28Serviços de alfândega e rastreamento internacional fornecidos ou Oferta direta + EUR 35,69 de frete, aproximadamente de Reino Unido Patrocinado Hot Tub Compatible With Most Jacuzzi Spas Topside Del Sol 2003-2 6600-641Abre em janela ou guia separada Novo em folha EUR 400,04 $10 off $50+ with coupon Comprar já! +EUR 72,55 de frete de Estados Unidos Patrocinado Hot Tub Compatible With Jacuzzi Spas Blower with Plug 120 Volts Ac 2560-150Abre em janela ou guia separada Novo em folha EUR 291,57 $10 off $50+ with coupon Comprar já! +EUR 75,98 de frete de Estados Unidos Patrocinado Poolheizung VEGAS SPA TEMPERATURE SENSOR SMARTPHONE-SteuerungAbre em janela ou guia separada Novo em folha EUR 49,96 Comprar já! +EUR 24,00 de frete de Polônia 11 observadores Patrocinado Spa Sundance /Jacuzzi Circuit Board 6600-722 A 2002+ Was 6600-042, 6600-289 #1Abre em janela ou guia separada Novo em folha EUR 348,31Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 45,71 de frete, aproximadamente de Estados Unidos Patrocinado Jacuzzi® - Air Control & On/Off Panel, Complete Kit (White) - G107940Abre em janela ou guia separada Novo em folha 4.5 de 5 estrelas.6 avaliações do produto - Jacuzzi® - Air Control & On/Off Panel, Complete Kit (White) - G107940 EUR 119,41Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 19,82 de frete, aproximadamente de Estados Unidos Patrocinado JACUZZI® Spa 2540-303 Valve: Spa Drain 3/4\" drain valve J200, J300, J400 and JLXAbre em janela ou guia separada Novo em folha EUR 14,93Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 25,15 de frete, aproximadamente de Estados Unidos Patrocinado Jacuzzi® - Control Panel Kit, 120V, Electronic On/Off, J2 - ED63000, MV00000Abre em janela ou guia separada Novo em folha EUR 99,51 Comprar já! +EUR 66,03 de frete de Estados Unidos Patrocinado Brand New Jacuzzi Brushed Nickel Primo Deep Soak Drain Complete Kit #791736Abre em janela ou guia separada Novo em folha EUR 119,41Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 23,30 de frete, aproximadamente de Estados Unidos Em prol de organização beneficente Patrocinado Hot Tub Compatible With Jacuzzi Spas Heater 1 KW 4 KW 120 240 Volt 6000-338Abre em janela ou guia separada Novo em folha EUR 192,05 $10 off $50+ with coupon Comprar já! +EUR 69,16 de frete de Estados Unidos Patrocinado JACUZZI Contento Single-Handle Brushed Bronze Freestanding Tub FillerAbre em janela ou guia separada Caixa aberta EUR 736,46Vendedor nível Top Vendedor nível Top Era: Preço anteriorEUR 775,22  5% de descontoServiços de alfândega e rastreamento internacional fornecidos ou Oferta direta + EUR 80,32 de frete, aproximadamente de Estados Unidos Patrocinado Jacuzzi Hot Tub Air SwitchAbre em janela ou guia separada Novo em folha EUR 9,94 Comprar já! +EUR 10,74 de frete de Estados Unidos 193 vendidos Patrocinado Jacuzzi 2-Packets 6.2-oz Deep Cleaning Powder Whirlpool Tub Cleaner BRAND NEW!Abre em janela ou guia separada Novo em folha EUR 16,91Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 14,39 de frete, aproximadamente de Estados Unidos Patrocinado JACUZZI HOT TUB SPA 6560-354 Wireless RF-3 Aquatic Remote Sensor For 6500-496 Abre em janela ou guia separada Novo em folha EUR 49,76Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 24,52 de frete, aproximadamente de Estados Unidos Patrocinado 2 Pack of Jacuzzi Systems Clean Whirlpool Jetted Bath Tub Cleaner NEW!Abre em janela ou guia separada Novo em folha EUR 14,93 Save up to 12% when you buy more ou Oferta diretaServiços de alfândega e rastreamento internacional fornecidos + EUR 25,14 de frete, aproximadamente de Estados Unidos Patrocinado Spa Control Jacuzzi Spas Circuit Board 6600-768 J-400 - 3 Pump 2015+ NEWAbre em janela ou guia separada Novo em folha EUR 497,59Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 56,83 de frete, aproximadamente de Estados Unidos Patrocinado Balboa WG® OEM spa pack circuit board R574/576 Jacuzzi Value System PN 52213 Abre em janela ou guia separada Novo em folha EUR 378,13 Comprar já! +EUR 69,02 de frete de Estados Unidos Patrocinado Allied Innovations 2472-826 Pillow, Fits Jacuzzi, OvalAbre em janela ou guia separada Novo em folha 5.0 de 5 estrelas.106 avaliações do produto - Allied Innovations 2472-826 Pillow, Fits Jacuzzi, Oval EUR 55,26Vendedor nível Top Vendedor nível Top Comprar já! +EUR 25,33 de frete de Estados Unidos Patrocinado Spa Control /Sundance /Jacuzzi Spas Circuit Board 6600-885 J-500 - NEWAbre em janela ou guia separada Caixa aberta EUR 547,35Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 58,00 de frete, aproximadamente de Estados Unidos Patrocinado Jacuzzi J300 Hot Tub Pillow x1 Headrest 2472-824 - IN STOCKAbre em janela ou guia separada J315, J325, J335, J345, J355, J365, J375, J385 Novo em folha EUR 57,74Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 13,37 de frete, aproximadamente de Reino Unido Patrocinado Jacuzzi® and Sundance® Spas Pillow Screws PAIR OF SCREWS 6570-231Abre em janela ou guia separada Novo em folha EUR 12,69Serviços de alfândega e rastreamento internacional fornecidos Comprar já! + EUR 14,29 de frete, aproximadamente de Estados Unidos 332 vendidos Patrocinado Jacuzzi® J-235™ Hot Tub (6 seats) with loungerAbre em janela ou guia separada Seminovo EUR 2 309,60 ou Oferta direta Frete não especificado de Reino Unido 46 observadores Patrocinado Jacuzzi Systems Clean Whirlpool Bath Cleaner For Jetted Tubs 3 Applications NEWAbre em janela ou guia separada Novo em folha EUR 17,08Serviços de alfândega e rastreamento internacional fornecidos ou Oferta direta + EUR 25,20 de frete, aproximadamente de Estados Unidos Patrocinado Len Gordon - Air Button #15 Classic Touch, White - 951590-601Abre em janela ou guia separada Novo em folha EUR 19,89 Comprar já! +EUR 55,78 de frete de Estados Unidos Patrocinado JACUZZI J-470 HOT TUB SPA COVER LEATHER FABRIC COVERING NEWAbre em janela ou guia separada Novo em folha EUR 248,79 Comprar já! +EUR 29,86 de frete de Estados Unidos 14 observadores Patrocinado arctic spa hot tub JacuzziAbre em janela ou guia separada Seminovo EUR 353,37 0 lances · Tempo restante5d 13h restantes (Tue, 11:31 PM) ou Oferta direta de Reino Unido Patrocinado 6 SEAT JACUZZI STYLE HOT TUB NOT HAD IT WORKING BUT LOOKS IN GOOD CONDITIONAbre em janela ou guia separada Seminovo EUR 117,79 7 lances · Tempo restante1d 16h restantes (Sat, 02:31 AM) de Reino Unido Patrocinado Jacuzzi J495IP Hot TubAbre em janela ou guia separada Seminovo EUR 5 774,00 Comprar já! de Reino Unido 10 observadores Patrocinado Jacuzzi J-315 Hot Tub (2018)Abre em janela ou guia separada Seminovo EUR 4 040,64 ou Oferta direta de Reino Unido 62 observadores Patrocinado Hot Tub Compatible With Most Jacuzzi Spas Topside 2013 Models 6600-501Abre em janela ou guia separada Novo em folha EUR 685,65 $10 off $50+ with coupon Comprar já! +EUR 72,55 de frete de Estados Unidos Patrocinado Hot Tub Compatible With Jacuzzi Light Controller Spa Models 2007 2012 6560-135Abre em janela ou guia separada Novo em folha EUR 271,66 $10 off $50+ with coupon Comprar já! +EUR 69,16 de frete de Estados Unidos Patrocinado", "PRODUCT");
                //temp = repositoryTitle.substring(12);
                //System.out.println(temp);
                // Extract class number in repository
                String repositoryPrice = repository.getElementsByClass("s-item__price").text();

                String repositoryLink = repository.getElementsByClass("s-item__link").attr("href");


                //String repositoryDescription = repository.getElementsByClass("").text();

                String repositoryImageurl = repository.getElementsByClass("s-item__image-img").attr("src");

                // I formatted and printed the information in the console

                System.out.println(repositoryTitle + " - " + repositoryPrice);
                System.out.print("\t" + repositoryLink);
                //System.out.println("\t" + repositoryDescription);
                System.out.println("\t" + repositoryImageurl);
                System.out.println("\n");

                {
                    // This command was created to only show the 10 products
                    System.out.println(repositories.text() + "INDEX: " + index);
                    index++;
                    if (index == 10) break;
                }
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
